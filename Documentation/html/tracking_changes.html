<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>BaseTen Reference Manual</title>
    <link href="documentation.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="logo-container">
        <a id="logo" href="index.html">
            <img src="http://basetenframework.org/chrome/site/trac_banner.png" alt="">
        </a>
    </div>
    <div class="container">
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="general_usage.html">Using BaseTen framework</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tracking database changes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="interface_b_x_database_object.html" title="A class that represents a single row in a database table. ">BXDatabaseObject</a> conforms to NSKeyValueObserving and uses self-updating collections for storing related objects; changes in them may thus be tracked with KVO.</p>
<p><a class="el" href="interface_b_x_synchronized_array_controller.html" title="An NSArrayController subclass for use with BaseTen. ">BXSynchronizedArrayController</a>'s contents will be updated automatically. BXDatabaseContext's fetch methods also have the option to return a self-updating array instead of an ordinary one. In this case, the collection's owner has to be specified for KVO notifications to be posted. See the collection classes' documentation for details.</p>
<p>Another, a more low-level means of tracking changes is observing NSNotifications. Notifications on entity changes will be posted to the relevant context's notification center. The notification object will be a <a class="el" href="interface_b_x_entity_description.html" title="An entity description contains information about a specific table or view in a given database...">BXEntityDescription</a> which corresponds to the table where the change happened. The names of the notifications are: </p><ul>
<li><em>kBXInsertNotification</em> on database <em>INSERT</em> </li>
<li><em>kBXUpdateNotification</em> on database <em>UPDATE</em> </li>
<li><em>kBXDeleteNotification</em> on database <em>DELETE</em></li>
</ul>
<p>At the time the notifications are posted, database objects and self-updating collections will already have been updated.</p>
<h1><a class="anchor" id="trigger_effects"></a>
Effects of triggers</h1>
<p>When inserting, updating or deleting rows, BaseTen notices (and posts notifications of) changes that occur as a result of database triggers or rules firing. The only requirement is that said changes are to entities other than the one being changed by BaseTen; changes to the same entity will be ignored. </p>
</div></div><!-- contents -->
</div>
<div class="footer"></div>
</body>
</html>

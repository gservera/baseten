<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>BaseTen Reference Manual</title>
    <link href="documentation.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="logo-container">
        <a id="logo" href="index.html">
            <img src="http://basetenframework.org/chrome/site/trac_banner.png" alt="">
        </a>
    </div>
    <div class="container">
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="protocol_b_x_database_context_delegate-p-members.html">List of all members</a> &#124;
<a href="#pub-methods">Instance Methods</a>  </div>
  <div class="headertitle">
<div class="title">&lt;BXDatabaseContextDelegate&gt; Protocol Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div class="textblock"><p>The protocol the database context's delegate needs to implement. </p><dl class="section note"><dt>Note</dt><dd>Most of the protocol is declared optional. </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a8876f51cb221e1e637d670ad28e2fb70"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#a8876f51cb221e1e637d670ad28e2fb70">databaseContext:failedToConnect:</a></td></tr>
<tr class="separator:a8876f51cb221e1e637d670ad28e2fb70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7225b66321a98e0c78dc46743517167c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#a7225b66321a98e0c78dc46743517167c">databaseContext:hadError:willBePassedOn:</a></td></tr>
<tr class="separator:a7225b66321a98e0c78dc46743517167c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9d16c1c021751c1133d8a731192d8e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#aec9d16c1c021751c1133d8a731192d8e">databaseContext:hadReconnectionError:</a></td></tr>
<tr class="separator:aec9d16c1c021751c1133d8a731192d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b5137af0edbf8be886bd6ddf2e0d9c"><td class="memItemLeft" align="right" valign="top">(enum <a class="el" href="_b_x_constants_8h.html#a80b9c289a6af363458e99988befceba3">BXCertificatePolicy</a>)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#a84b5137af0edbf8be886bd6ddf2e0d9c">databaseContext:handleInvalidTrust:result:</a></td></tr>
<tr class="separator:a84b5137af0edbf8be886bd6ddf2e0d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e80c96e9141bb55345bdc311bf0daa0"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#a5e80c96e9141bb55345bdc311bf0daa0">databaseContext:lostConnection:</a></td></tr>
<tr class="separator:a5e80c96e9141bb55345bdc311bf0daa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b544628f1bc31d6bf965eba463dce9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#a57b544628f1bc31d6bf965eba463dce9">databaseContext:networkStatusChanged:</a></td></tr>
<tr class="separator:a57b544628f1bc31d6bf965eba463dce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf6c93035fa905af1687cb140722d75"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#adbf6c93035fa905af1687cb140722d75">databaseContextConnectionFailureAlertDismissed:</a></td></tr>
<tr class="separator:adbf6c93035fa905af1687cb140722d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408a0aec2c29c263828cf2892ca48fe3"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#a408a0aec2c29c263828cf2892ca48fe3">databaseContextConnectionSucceeded:</a></td></tr>
<tr class="separator:a408a0aec2c29c263828cf2892ca48fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b0cd8d7c44982849aec02146827664"><td class="memItemLeft" align="right" valign="top">(enum <a class="el" href="_b_x_constants_8h.html#aa90c820a219290fe23398cb49a4a9316">BXSSLMode</a>)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_b_x_database_context_delegate-p.html#ad9b0cd8d7c44982849aec02146827664">SSLModeForDatabaseContext:</a></td></tr>
<tr class="separator:ad9b0cd8d7c44982849aec02146827664"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a8876f51cb221e1e637d670ad28e2fb70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>ctx</em></td>
        </tr>
        <tr>
          <td class="paramkey">failedToConnect:</td>
          <td></td>
          <td class="paramtype">(NSError *)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Callback for a failed connection. Called after a failed asynchronous connection attempt. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The database context that initiated the connection. </td></tr>
    <tr><td class="paramname">error</td><td>The connection error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7225b66321a98e0c78dc46743517167c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>context</em></td>
        </tr>
        <tr>
          <td class="paramkey">hadError:</td>
          <td></td>
          <td class="paramtype">(NSError *)&#160;</td>
          <td class="paramname"><em>anError</em></td>
        </tr>
        <tr>
          <td class="paramkey">willBePassedOn:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>willBePassedOn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle an error. Various methods in BXDatabaseContext have an NSError** parameter. In addition, the context has an errorHandlerDelegate outlet. If no error handler has been set, the database context will handle errors itself.</p>
<p>When the NSError** parameter has been supplied to the methods, no action will be taken and the error is assumed to have been handled. If the parameter is NULL and an error occurs, a <a class="el" href="interface_b_x_exception.html" title="A BaseTen-specific exception. ">BXException</a> named <em>kBXExceptionUnhandledError</em> will be thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The database context from which the error originated. </td></tr>
    <tr><td class="paramname">anError</td><td>The error. </td></tr>
    <tr><td class="paramname">willBePassedOn</td><td>Whether the calling method's NSError** parameter was set or not. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aec9d16c1c021751c1133d8a731192d8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>context</em></td>
        </tr>
        <tr>
          <td class="paramkey">hadReconnectionError:</td>
          <td></td>
          <td class="paramtype">(NSError *)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle failure during connection loss recovery. Called after recovery was attempted after a database connection had been lost but the attempt failed.</p>
<p>By default in AppKit applications the error will be presented to the user as an application modal alert panel.</p>
<p>Foundation applications will log the error.</p>
<dl class="section note"><dt>Note</dt><dd>-databaseContext:hadError:willBePassedOn: won't be called for this error. </dd></dl>

</div>
</div>
<a class="anchor" id="a84b5137af0edbf8be886bd6ddf2e0d9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (enum <a class="el" href="_b_x_constants_8h.html#a80b9c289a6af363458e99988befceba3">BXCertificatePolicy</a>) databaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>ctx</em></td>
        </tr>
        <tr>
          <td class="paramkey">handleInvalidTrust:</td>
          <td></td>
          <td class="paramtype">(SecTrustRef)&#160;</td>
          <td class="paramname"><em>trust</em></td>
        </tr>
        <tr>
          <td class="paramkey">result:</td>
          <td></td>
          <td class="paramtype">(SecTrustResultType)&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Policy for invalid trust. The server certificate will be verified using the system keychain. On failure this method will be called. The delegate may then accept or deny the certificate or, in case the application has been linked to the BaseTenAppKit framework, ask the context to display a trust panel to the user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The database context making the connection </td></tr>
    <tr><td class="paramname">trust</td><td>A trust created from the certificate </td></tr>
    <tr><td class="paramname">result</td><td>Initial verification result </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e80c96e9141bb55345bdc311bf0daa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>context</em></td>
        </tr>
        <tr>
          <td class="paramkey">lostConnection:</td>
          <td></td>
          <td class="paramtype">(NSError *)&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle connection loss. Called when a database connection is lost either unintentionally or by system sleep. In both cases a recovery attempter will be included with the error.</p>
<p>By default in AppKit applications the error will be presented to the user as an application modal alert panel. If they choose not to reconnect or the attempt fails for some reason, the context will be set to return <em>nil</em> for all non-cached object values.</p>
<p>Foundation applications will throw a <a class="el" href="interface_b_x_exception.html" title="A BaseTen-specific exception. ">BXException</a> named <em>kBXExceptionUnhandledError</em>.</p>
<dl class="section note"><dt>Note</dt><dd>-databaseContext:hadError:willBePassedOn: won't be called for this error. </dd></dl>

</div>
</div>
<a class="anchor" id="a57b544628f1bc31d6bf965eba463dce9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>context</em></td>
        </tr>
        <tr>
          <td class="paramkey">networkStatusChanged:</td>
          <td></td>
          <td class="paramtype">(SCNetworkConnectionFlags)&#160;</td>
          <td class="paramname"><em>newFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Network status change. Changes in network status are received from System Configuration framework. </p><dl class="section note"><dt>Note</dt><dd>The default implementation does nothing but this might change in the future. </dd></dl>

</div>
</div>
<a class="anchor" id="adbf6c93035fa905af1687cb140722d75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContextConnectionFailureAlertDismissed: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>ctx</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Callback for a failed connection. When BaseTenAppKit is linked, BXDatabaseContext automatically displays an alert panel. This method will be called after the user has dismissed the panel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The database context that initiated the connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a408a0aec2c29c263828cf2892ca48fe3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) databaseContextConnectionSucceeded: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>ctx</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Callback for a successful connection. Called after a successful asynchronous connection attempt. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The database context that initiated the connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9b0cd8d7c44982849aec02146827664"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (enum <a class="el" href="_b_x_constants_8h.html#aa90c820a219290fe23398cb49a4a9316">BXSSLMode</a>) SSLModeForDatabaseContext: </td>
          <td></td>
          <td class="paramtype">(BXDatabaseContext *)&#160;</td>
          <td class="paramname"><em>ctx</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">optional</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Secure connection mode for the context. The mode may be one of require, disable and prefer. In prefer mode, a secure connection will be attempted. If this fails for other reason than a certificate verification problem, an insecure connection will be tried. </p>

</div>
</div>
<hr/>The documentation for this protocol was generated from the following file:<ul>
<li>BXDatabaseContextDelegateProtocol.h</li>
</ul>
</div><!-- contents -->
</div>
<div class="footer"></div>
</body>
</html>

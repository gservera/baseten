<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>BaseTen Reference Manual</title>
    <link href="documentation.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="logo-container">
        <a id="logo" href="index.html">
            <img src="http://basetenframework.org/chrome/site/trac_banner.png" alt="">
        </a>
    </div>
    <div class="container">
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="general_usage.html">Using BaseTen framework</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Using multiple database contexts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In general, there aren't many reasons to have multiple database contexts in an application that connects to a single database. One possibility to make the context available everywhere it's needed is to make it a property of the NSApplication delegate or an NSDocument subclass.</p>
<p>Advantages: </p><ul>
<li>Thread safety. Since database contexts should be created and used from within a single thread, it might be advantageous to create one for each thread. </li>
<li>Transaction isolation. One could want to query the database state outside the current transaction. </li>
<li>Privilege separation. One might want to access the database using roles with different privileges. </li>
<li>Different commit modes.</li>
</ul>
<p>Disadvantages: </p><ul>
<li>Increased memory usage on the server. Each database context makes a connection to the database (two in manual commit mode). These require an amount of shared memory on the server. This limits the number of clients who can connect simultaneously. </li>
<li>Increased memory and network usage on the client side. Database objects are uniqued and updated within a context, so each context requires its own copy of the objects. Each context also needs to update its objects on its own. </li>
<li>Database objects cannot be passed from one context to another. This causes problems. </li>
</ul>
</div></div><!-- contents -->
</div>
<div class="footer"></div>
</body>
</html>
